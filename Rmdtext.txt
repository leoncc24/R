---
title: "Bellatbeat_Case_Study_md"
author: "Leon"
date: "2025-08-06"
output:
  pdf_document: default
  html_document: default
---

#1.Backgorund

Bellabeat is a cutting-edge company specializing in smart products designed to support women's health and wellness. Drawing on her artistic background, Sršen created elegantly crafted technology that educates and motivates women globally. By gathering data on activity, sleep, stress, and reproductive health, Bellabeat empowers women to better understand their bodies and lifestyles. Since its launch in 2013, the company has experienced rapid growth, establishing itself as a leading tech-focused wellness brand for women.

Sršen believes that analyzing Bellabeat’s existing consumer data could uncover valuable opportunities for growth. She has tasked the marketing analytics team with examining usage data from one of Bellabeat’s smart products to better understand how users are currently engaging with their devices. Based on these insights, she is seeking strategic, high-level recommendations on how emerging usage trends can shape and enhance Bellabeat’s marketing approach.


#2.Ask Phase
Business task:
Identify potential opportunities for growth and recommendations for the Bellabeat marketing strategy improvement based on trends in smart device usage.

#3.Prepare Phase
##Dataset used:
The data source used for our case study is FitBit Fitness Tracker Data. This dataset is stored in Kaggle and was made available through Mobius

| Table Name                   | Type               | Description |
|------------------------------|--------------------|-------------|
| dailyActivity_merged         | Microsoft Excel CSV | Daily Activity over 31 days of 33 users. Tracking daily: Steps, Distance, Intensities, Calories |
| dailyCalories_merged         | Microsoft Excel CSV | Daily Calories over 31 days of 33 users |
| dailyIntensities_merged      | Microsoft Excel CSV | Daily Intensity over 31 days of 33 users. Measured in Minutes and Distance, dividing groups in 4 categories: Sedentary, Lightly Active, Fairly Active, Very Active |
| dailySteps_merged            | Microsoft Excel CSV | Daily Steps over 31 days of 33 users |
| heartrate_seconds_merged     | Microsoft Excel CSV | Exact day and time heartrate logs for just 7 users |
| hourlyCalories_merged        | Microsoft Excel CSV | Hourly Calories burned over 31 days of 33 users |
| hourlyIntensities_merged     | Microsoft Excel CSV | Hourly total and average intensity over 31 days of 33 users |
| hourlySteps_merged           | Microsoft Excel CSV | Hourly Steps over 31 days of 33 users |
| minuteCaloriesNarrow_merged  | Microsoft Excel CSV | Calories burned every minute over 31 days of 33 users (Every minute in single row) |
| minuteCaloriesWide_merged    | Microsoft Excel CSV | Calories burned every minute over 31 days of 33 users (Every minute in single column) |
| minuteIntensitiesNarrow_merged | Microsoft Excel CSV | Intensity counted by minute over 31 days of 33 users (Every minute in single row) |
| minuteIntensitiesWide_merged | Microsoft Excel CSV | Intensity counted by minute over 31 days of 33 users (Every minute in single column) |
| minuteMETsNarrow_merged      | Microsoft Excel CSV | Ratio of the energy you are using in a physical activity compared to the energy you would use at rest. Counted in minutes |
| minuteSleep_merged           | Microsoft Excel CSV | Log Sleep by Minute for 24 users over 31 days. Value column not specified |
| minuteStepsNarrow_merged     | Microsoft Excel CSV | Steps tracked every minute over 31 days of 33 users (Every minute in single row) |
| minuteStepsWide_merged       | Microsoft Excel CSV | Steps tracked every minute over 31 days of 33 users (Every minute in single column) |
| sleepDay_merged              | Microsoft Excel CSV | Daily sleep logs, tracked by: Total count of sleeps a day, Total minutes, Total Time in Bed |
| weightLogInfo_merged         | Microsoft Excel CSV | Weight track by day in Kg and Pounds over 30 days. Calculation of BMI. 5 users report weight manually, 3 users not. In total there are 8 users |

##Data Credibility and Integrity:
Given the small sample size (30 users) and lack of demographic data, the dataset may suffer from sampling bias, making it unclear whether the sample accurately represents the broader population. Additionally, the data is not recent, and the observation period is limited to just two months. Due to these constraints, our analysis will take an operational approach rather than attempting broad generalizations.


#4.Process Phase

##Loading packages

```{r cars}
library(tidyverse)
library(janitor)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
```

##Importing datasets
Given the available datasets, we will upload those most relevant to addressing our business objectives. Our analysis will concentrate on the following datasets:
*dailyActivity_merged
*daily_intensities
*daily_step
*daily_sleep
*hourlyIntensities_merged
*hourlySteps_merged

```{r}
daily_activity <- read.csv("data/dailyActivity_merged.csv")
daily_intensities <- read.csv("data/daily_intensities.csv")
daily_step <- read.csv("data/daily_step.csv")
daily_sleep <- read.csv("data/daily_sleep.csv")
hour_intensities <- read.csv("data/hourlyIntensities_merged.csv")
hour_steps <- read.csv("data/hourlySteps_merged.csv")
```

Standardize column names, Remove duplicates and NA
```{r}
daily_activity <- clean_names(daily_activity) %>%
  distinct() %>%
  drop_na()

daily_intensities <- clean_names(daily_intensities) %>%
  distinct() %>%
  drop_na()

daily_step <- clean_names(daily_step) %>%
  distinct() %>%
  drop_na()

daily_sleep <- clean_names(daily_sleep) %>%
  distinct() %>%
  drop_na()

hour_intensities <- clean_names(hour_intensities) %>%
  distinct() %>%
  drop_na()

hour_steps <- clean_names(hour_steps) %>%
  distinct() %>%
  drop_na()
```

Verify any duplicate remained
```{r}
sum(duplicated(daily_activity))
sum(duplicated(daily_intensities))
sum(duplicated(daily_step))
sum(duplicated(daily_sleep))
sum(duplicated(hour_intensities))
sum(duplicated(hour_steps))
```

Convert it to date time format and split to date and time.
```{r}
hour_intensities$activity_hour<-mdy_hms(hour_intensities$activity_hour) %>% 
hour_intensities$time <- format(hour_intensities$ActivityHour, format="%H:%M:%S")%>%  
hour_intensities$date <- format(hour_intensities$ActivityHour, format="%m/%d/%y") 
```   
```{r}
hour_steps$activity_hour<-mdy_hms(hour_steps$activity_hour) 
  hour_steps$time <- format(hour_steps$ActivityHour, format="%H:%M:%S") 
  hour_steps$date <- format(hour_steps$ActivityHour, format="%m/%d/%y") 
```  
```{r}
daily_sleep$sleep_day<-mdy_hms(daily_sleep$sleep_day)
  daily_sleep$time <- format(daily_sleep$sleep_day, format="%H:%M:%S") 
  daily_sleep$date <- format(daily_sleep$sleep_day, format="%m/%d/%y") 
```  
```{r}
daily_step <- daily_step %>%
  rename(date = activity_day) %>%
  mutate(date = as_date(date, format = "%m/%d/%Y"))
```
```{r}
daily_activity <- daily_activity %>%
  rename(date = activity_date) %>%
  mutate(date = as_date(date, format = "%m/%d/%Y"))
```
```{r}
daily_intensities <- daily_intensities %>%
  rename(date = activity_date) %>%
  mutate(date = as_date(date, format = "%m/%d/%Y"))
```


##5.Analyze Phase and Share Phase

We will analyze activity patterns of the users of FitBit and determine if that can help us on getting some insights or opportunity of BellaBeat's marketing strategy.

5.1 Sleep Pattern Analysis
Based on the website of National Library of Medicine,  joint consensus statement of the American Academy of Sleep Medicine and Sleep Research Society suggest: Adults should sleep 7 or more hours per night on a regular basis to promote optimal health.
[https://pmc.ncbi.nlm.nih.gov/articles/PMC4434546/](https://pmc.ncbi.nlm.nih.gov/articles/PMC4434546/)


```{r}
daily_sleep_copy <- daily_sleep %>% 
     group_by(date) %>% 
     summarise(mean_sleep_min=mean(total_minutes_asleep))
daily_sleep_copy
```

```{r}
ggplot(data=daily_sleep_copy,aes(x=date,y=mean_sleep_min))+
  geom_col(stat="identity", fill="darkblue")+
  geom_hline(yintercept = 420)+
  labs(title = "Average Daily Sleep Minute")+
  theme(axis.text.x = element_text((angle = 90)))
```
![Average Daily Sleep Minute](Average Daily Sleep Minute.png)
From the graph, about half of the dates, the users average daily sleep hour is below recommended hour (7 hours per day)

5.2 Average Daily Steps
According to the PubMed Central (PMC) article, pedometer-determined phsical activity in healthy adults is classified as:
* Sedentary: Less than 5000 steps a day.
* low active: 5000-7499 steps/day
* somewhat active: 7500-9999 steps/day
* active: >=10000 steps/day
* highly active: >12500 steps/day
[https://pubmed.ncbi.nlm.nih.gov/14715035/](https://pubmed.ncbi.nlm.nih.gov/14715035/)

First, we calculate the average daily steps for each user
```{r}
daily_step_copy <- daily_step %>% 
     group_by(id) %>% 
     summarise(mean_daily_steps=mean(step_total))
daily_step_copy
```

Then, users are categoried into different active level types
```{r}
daily_step_copy <- daily_step_copy %>% 
          mutate(user_type = case_when(
                mean_daily_steps < 5000 ~ "sedentary",
                mean_daily_steps >= 5000 & mean_daily_steps<7500 ~ "low active",
                mean_daily_steps >= 7500 & mean_daily_steps<10000 ~ "somewhat active",
                mean_daily_steps >= 10000 & mean_daily_steps<=12500 ~"active",
                mean_daily_steps > 12500 ~"highly active" 
             ))
daily_step_copy
```

Compute the percentage of each type
```{r}
step_summary <- daily_step_copy %>%
     group_by(user_type) %>% 
     summarise(sub_total=n()) %>% 
     mutate(total = sum(sub_total)) %>% 
     group_by(user_type) %>%
     summarise(total_percent = sub_total / total) %>%
     mutate(percentage = scales::percent(total_percent))
step_summary
```


```{r}
 ggplot(step_summary, aes(x = "", y = total_percent, fill = user_type)) +
     geom_bar(stat = "identity", width = 1) +
     coord_polar("y", start = 0) +
     geom_text(aes(label = percentage), 
               position = position_stack(vjust = 0.5)) +
     labs(title = "User Activity Levels Based on Daily Steps") +
     theme_void() +
     theme(plot.title = element_text(hjust = 0.5))
```
we can see the distribution of the different active levels. More than half of the users are below 7500 daily steps(low active and sedentary) which is a unhealthy life style needed to be improved
We further check during the data period if the average daily steps computed from all users meet the recommended steps (7500)
```{r}
average_daily_step <- daily_step %>% 
     group_by(date) %>% 
     summarise(mean_daily_steps=mean(step_total))
average_daily_step
```


```{r}
ggplot(data = average_daily_step,aes(x=date,y=mean_daily_steps))+
  geom_col(stat="identity",fill="darkblue")+geom_hline(yintercept=7500)+
  labs(title="Average Daily Steps")+
  theme(axis.title.x = element_text(angle=90))
```
From the graph, about 1/3 of the dates, users did not meet the recommended daily steps

5.3 User Intensities over Weekdays
```{r}
hour_intensities_copy <- hour_intensities %>%
  group_by(id,date) %>%
  drop_na() %>%
  summarise(daily_intensities=sum(total_intensity)) %>% 
  ungroup() %>% 
  mutate(weekday=weekdays(date)) %>% 
  group_by(weekday) %>%
  summarise(mean_intensities=mean(daily_intensities))
hour_intensities_copy
```

Reorder the Weekdays as normal order
```{r}
hour_intensities_copy$weekday<-ordered(hour_intensities_copy$weekday, levels=c("Monday", "Tuesday", "Wednesday", "Thursday","Friday", "Saturday", "Sunday"))
```

Plot the graph to visualize the average user intensities over differen weekdays
```{r}
ggplot(data=hour_intensities_copy, aes(x=weekday,y=mean_intensities))+
  geom_histogram(stat="identity", fill="darkblue")+
  theme(axis.text.x=element_text(angle=90))+
  labs(title="User Intensities over week")
```
From the graph we can see on Saturaday and Sunday, users have the highest intensities and lowest intensities respectively.


5.4Frequency of usage
We further investigate how frequent the users wear the Bellabeat gadgets.
We will determine the number of users who use their smart devices daily, categorizing our sample into three groups based on a 31-day observation period.
*Frequent Users: Active on 21 to 31 days
*Regular Users: Active on 10 to 20 days
*Occasional Users: Active on 1 to 10 days

```{r}
daily_usage <- daily_activity %>% 
  group_by(id) %>% 
  summarise(days = sum(n())) %>% 
  mutate(usage = case_when(
    days <=10 ~"occasional user",
    days >10 & days <=20 ~"regular user",
    days >20 ~"frequent user"
  ))
daily_usage
```

Compute their percentage
```{r}
daily_usage_percentage <- daily_usage %>% 
  group_by(usage) %>% 
  summarise(sub_total=n()) %>%
  mutate(total = sum(sub_total)) %>% 
  group_by(usage) %>% 
  summarise(total_percent=sub_total/total) %>% 
  mutate(percentage=scales::percent(total_percent))
daily_usage_percentage
```

Then plot the pie chart to visualize the distribution of user types
```{r}
 ggplot(daily_usage_percentage, aes(x = "", y = total_percent, fill = usage)) +
     geom_bar(stat = "identity", width = 1) +
     coord_polar("y", start = 0) +
     geom_text(aes(label = percentage), 
               position = position_stack(vjust = 0.5)) +
     labs(title = "Percentage of Users by Activity Frequency") +
     theme_void() +
     theme(plot.title = element_text(hjust = 0.5))
```
We can see that
*88% users frequently wear and use the Bellatbeat devices(21-31days)
*9% users regularly use the devices(10 to 20days)
*3% users only use the devices less than 10 days


#6. Act Phase

##Summary of Key Insights

###Sleep Patterns
*On approximately half of the recorded days, users averaged less than the recommended 7 hours of sleep.

###Physical Activity
*On about one-third of the days, users failed to meet the recommended daily step count.
*Over 50% of users consistently logged fewer than 7,500 steps per day, placing them in the low-active or sedentary category—an indicator of unhealthy lifestyle habits.

###Activity Intensity by Day
*Users showed the highest activity intensities on Saturdays, while Sundays had the lowest.

###Device Engagement
*88% of users are highly engaged, using their Bellabeat devices for 21–31 days.
*9% are moderately engaged (10–20 days).
*3% show low engagement, using the device fewer than 10 days.


##Recommendations for Bellabeat

###Promote Sleep Health
*Introduce personalized sleep coaching features or reminders based on sleep tracking data.
*Offer educational content on the importance of sleep and how to improve sleep hygiene.

###Encourage Physical Activity
*Implement motivational nudges or gamified challenges to help users reach at least 7,500 steps daily.
*Provide tailored activity goals based on user history and gradually increase targets.

###Weekend Optimization
*Leverage high Saturday engagement by launching weekend wellness campaigns or guided workouts.
*Address low Sunday activity with gentle reminders or relaxing movement suggestions (e.g., yoga, walking).

###Boost Engagement for Low-Use Users
*Send personalized re-engagement messages or offer incentives for consistent use.
*Simplify onboarding and highlight key benefits to encourage regular usage.

###Segmented Marketing Strategy
*Use engagement tiers (frequent, regular, occasional) to tailor messaging and product recommendations.
*For highly engaged users, promote premium features or community challenges.
*For less engaged users, focus on ease-of-use and habit formation.









